/*!
 * Waypoints Infinite Scroll Shortcut - 2.0.5
 * Copyright Â© 2011-2014 Caleb Troughton
 * Licensed under the MIT license.
 * https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
 * */
!function(){"use strict";function t(n){this.options=i.extend({},t.defaults,n),this.container=this.options.element,"auto"!==this.options.container&&(this.container=this.options.container),this.$container=i(this.container),this.$more=i(this.options.more),this.more=this.$more[0],this.more&&(this.setupHandler(),this.waypoint=new o(this.options))}var i=window.jQuery,o=window.Waypoint;t.prototype.setupHandler=function(){this.options.handler=i.proxy(function(){window.setTimeout(i.proxy(function(){this.options.onBeforePageLoad(),this.destroy(),this.$container.addClass(this.options.loadingClass),i.get(i(this.options.more).attr("href"),i.proxy(function(t){var n=i(i.parseHTML(t)),s=n.find(this.options.more);this.$container.append(n.find(this.options.items)),this.$container.removeClass(this.options.loadingClass),s.length||(s=n.filter(this.options.more)),s.length?(this.$more.replaceWith(s),this.waypoint=new o(this.options)):this.$more.remove(),this.options.onAfterPageLoad()},this),0)},this))},this)},t.prototype.destroy=function(){this.waypoint&&this.waypoint.destroy()},t.defaults={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:i.noop,onAfterPageLoad:i.noop},o.Infinite=t}();

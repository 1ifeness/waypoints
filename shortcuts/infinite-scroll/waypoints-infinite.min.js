// Generated by CoffeeScript 1.6.2
/*
Infinite Scroll Shortcut for jQuery Waypoints - v2.0.4
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){(function(e,n){if(typeof define==="function"&&define.amd){return define(["jquery","waypoints"],n)}else{return n(e.jQuery)}})(this,function(e){var n;n={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:e.noop,onAfterPageLoad:e.noop};return e.waypoints("extendFn","infinite",function(t){var i,o;o=e.extend({},e.fn.waypoint.defaults,n,t);if(e(o.more).length===0){return this}i=o.container==="auto"?this:e(o.container);o.handler=function(n){var t;if(n==="down"||n==="right"){t=e(this);o.onBeforePageLoad();t.waypoint("destroy");i.addClass(o.loadingClass);return e.get(e(o.more).attr("href"),function(n){var r,a,f,s;r=e(e.parseHTML(n));a=e(o.more);f=r.find(o.more);i.append(r.find(o.items));i.removeClass(o.loadingClass);if(f.length){a.replaceWith(f);s=function(){return t.waypoint(o)};setTimeout(s,0)}else{a.remove()}return o.onAfterPageLoad()})}};return this.waypoint(o)})})}).call(this);